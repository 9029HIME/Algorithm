# 题目

给定 `n` 个非负整数表示每个宽度为 `1` 的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水。

# 示例

![01](思路.assets/01.png)

```
输入：height = [0,1,0,2,1,0,1,3,2,1,2,1]
输出：6
解释：上面是由数组 [0,1,0,2,1,0,1,3,2,1,2,1] 表示的高度图，在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）。 
```

```
输入：height = [4,2,0,3,2,5]
输出：9
```

# 思路

## 公式推导

这道题有点类似之前做的 [盛最多水的容器](https://github.com/9029HIME/Algorithm/tree/master/leetCode/20221231_MEDIUM_11_Container_With_Most_Water---Double-Pointer)。区别是本题求整个区间的水容量。

能否转换一下思路呢？“求雨水的总量” 转换为 “求[数组每个下标能存放的雨水量] 的 总和”。

对于下标i来说，它能存放的雨水量该如何求？应该是 (i在左边的最大高度 与 i在右边的最大高度)取最小值 再减去 i的高度。

听起来有点绕口，假设LeftMax(i) = [0,i]区间的最大高度，RightMax(i) = [i,length - 1]区间的最大高度，那么**i的雨水量 = Min(LeftMax(i),RightMax(i)) - height(i)**。

## 怎么求？

以height = [0,1,0,2,1,0,1,3,2,1,2,1]为例：

![02](思路.assets/02.png)



# 代码