# 题目

给定一个长度为 `n` 的整数数组 `height` 。有 `n` 条垂线，第 `i` 条线的两个端点是 `(i, 0)` 和 `(i, height[i])` 。

找出其中的两条线，使得它们与 `x` 轴共同构成的容器可以容纳最多的水。

返回容器可以储存的最大水量。

**说明：**你不能倾斜容器。

# 示例

```
输入：[1,8,6,2,5,4,8,3,7]
输出：49 
解释：图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。
```

```
输入：height = [1,1]
输出：1
```

# 思路

这道题挺有意思，第一眼看就猜到双指针的解法，具体怎么解，来慢慢推导：

1. 水的面积要如何确定？

   假设i代表某x轴的值，j代表某x轴的值，i和j确定两条线。那么面积等于Min(i,j) * (j-i)

2. 如何挪动线？

   这个其实挺有意思的，挪动了线，可能下一条线会更高，但j和i之间的距离却减少了，更高 和 更短 之间产生了冲突，该如何取舍他俩，从而得到最大的水面积呢？

   要知道i和j有着短板效应，取决水面积大小的因素，除了i和j的距离，还有i和j的最小值。一开始i和j处于x轴的最左边与最右边，既然我要挪动i和j，那么距离肯定是减少了。接着就是看挪动i的价值更大、还是挪动j的价值更大。假设i > j。

   如果我挪动j，下一个线j1可能比j大，如果j < j1 < i，那么水的面积可能会变大。 如果j1 ＜ j，那么水的面积会变小。

   如果我挪动i，不管下一个线i1比i大还是比i小，最终决定水面积的还是j，并且由于挪动了i，导致距离变短，水的面积肯定会变小。

   **也就是说，移动长线，水的面积一定会变小，移动短线，水的面积可能变大**。

3. 有了上面的理论基础，这道题就好做了，初始状态下i和j在两端，通过挪动短线，不停地收缩i和j的距离，直到i和j重叠，并得到挪动过程中算出的最大面积值。

# 代码

```go
package main

import "fmt"

func main() {
   fmt.Println(maxArea([]int{1, 8, 6, 2, 5, 4, 8, 3, 7}))
}

func maxArea(height []int) int {
   i := 0
   j := len(height) - 1
   result := 0
   for i < j {
      // 最小高度
      min := Min(height[i], height[j])
      // 距离
      distance := j - i
      // 面积
      area := min * distance
      result = Max(result, area)
      // 挪动最小的线
      if height[i] < height[j] {
         i++
      } else {
         j--
      }
   }
   return result
}

func Max(a int, b int) int {
   if a > b {
      return a
   } else {
      return b
   }
}

func Min(a int, b int) int {
   if a > b {
      return b
   } else {
      return a
   }
}
```